#
#
# Licensed to the Apache Software Foundation (ASF) under one
# or more contributor license agreements.  See the NOTICE file
# distributed with this work for additional information
# regarding copyright ownership.  The ASF licenses this file
# to you under the Apache License, Version 2.0 (the
# "License"); you may not use this file except in compliance
# with the License.  You may obtain a copy of the License at
#
#   http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing,
# software distributed on an "AS IS" BASIS, WITHOUT WARRANTIES
# OR CONDITIONS OF ANY KIND, either express or implied.  See the
# License for the specific language governing permissions and
# limitations under the License.
#

# ==================== Core Configuration ====================
airavata.config.dir=.
airavata.default.gateway=default
airavata.default.password=test-password
airavata.default.user=test-user
airavata.enable-streaming-transfer=False
airavata.enable-validation=true
airavata.in-memory-cache-size=1000
airavata.local-data-location=/tmp
airavata.max-archive-size=1000
airavata.super-tenant-gateway-id=default
airavata.thrift-client-pool-abandoned-removal-enabled=true
airavata.thrift-client-pool-abandoned-removal-logged=false

# ==================== Database Configuration ====================
# App Catalog Database
database.catalog.driver=org.h2.Driver
database.catalog.password=
database.catalog.url=jdbc:h2:mem:appcatalog;DB_CLOSE_DELAY=-1;MODE=MySQL
database.catalog.user=sa
database.catalog.validation-query=SELECT 1

# Profile Service Database
database.profile.driver=org.h2.Driver
database.profile.password=
database.profile.url=jdbc:h2:mem:profileservice;DB_CLOSE_DELAY=-1;MODE=MySQL
database.profile.user=sa
database.profile.validation-query=SELECT 1

# Registry Database
database.registry.driver=org.h2.Driver
database.registry.password=
database.registry.url=jdbc:h2:mem:registry;DB_CLOSE_DELAY=-1;MODE=MySQL
database.registry.user=sa
database.registry.validation-query=SELECT 1

# Replica Catalog Database
database.replica.driver=org.h2.Driver
database.replica.password=
database.replica.url=jdbc:h2:mem:replicacatalog;DB_CLOSE_DELAY=-1;MODE=MySQL
database.replica.user=sa
database.replica.validation-query=SELECT 1

# Sharing Catalog Database
database.sharing.driver=org.h2.Driver
database.sharing.password=
database.sharing.url=jdbc:h2:mem:sharingcatalog;DB_CLOSE_DELAY=-1;MODE=MySQL
database.sharing.user=sa
database.sharing.validation-query=SELECT 1

# Credential Store Database (Vault)
database.vault.driver=org.h2.Driver
database.vault.password=
database.vault.url=jdbc:h2:mem:credentialstore;DB_CLOSE_DELAY=-1;MODE=MySQL
database.vault.user=sa
database.vault.validation-query=SELECT 1

# Workflow Catalog Database
database.workflow.driver=org.h2.Driver
database.workflow.password=
database.workflow.url=jdbc:h2:mem:workflowcatalog;DB_CLOSE_DELAY=-1;MODE=MySQL
database.workflow.user=sa
database.workflow.validation-query=SELECT 1

# ==================== Messaging Configuration ====================
# Helix
helix.cluster-name=AiravataCluster
helix.controller-name=AiravataController
helix.controller.enabled=false
helix.participant-name=AiravataParticipant
helix.participant.enabled=false

# Kafka
kafka.broker-url=localhost:9092

# RabbitMQ
rabbitmq.broker-url=amqp://localhost:5672
rabbitmq.durable-queue=false
rabbitmq.experiment-exchange-name=experiment_exchange
rabbitmq.experiment-launch-queue-name=experiment.launch.queue
rabbitmq.prefetch-count=200
rabbitmq.process-exchange-name=process_exchange
rabbitmq.status-exchange-name=status_exchange

# Zookeeper
zookeeper.embedded=true
zookeeper.server-connection=localhost:2181

# ==================== Security Configuration ====================
security.authzCache.classpath=org.apache.airavata.security.authzcache.DefaultAuthzCacheManager
security.authzCache.enabled=true
security.iam.classpath=org.apache.airavata.security.KeyCloakSecurityManager
security.iam.oauth-client-id=test-client
security.iam.oauth-client-secret=test-secret
security.iam.server-url=http://localhost:18080
security.iam.super-admin-password=admin
security.iam.super-admin-username=admin
security.keystore.password=airavata
security.keystore.path=keystores/airavata.p12
security.tls.client-timeout=10000
security.tls.enabled=false

# ==================== Services Configuration ====================
# API Service
services.api.classpath=org.apache.airavata.api.thrift.server.AiravataServiceServer
services.api.min-threads=50
services.api.port=8930

# API Orchestrator Service
services.api.orchestrator.classpath=org.apache.airavata.api.thrift.server.OrchestratorServiceServer
services.api.orchestrator.server-min-threads=50
services.api.orchestrator.server-port=8940

# API Profile Service
services.api.profile.classpath=org.apache.airavata.api.thrift.server.ProfileServiceServer
services.api.profile.server.port=8962

# API Registry Service
services.api.registry.classpath=org.apache.airavata.api.thrift.server.RegistryServiceServer
services.api.registry.server.min-threads=50
services.api.registry.server.port=8970

# API Sharing Registry Service
services.api.sharing.classpath=org.apache.airavata.api.thrift.server.SharingRegistryServer
services.api.sharing.enabled=true
services.api.sharing.server-port=7878

# API Vault Service (Credential Store)
services.api.vault.classpath=org.apache.airavata.api.thrift.server.CredentialServiceServer
services.api.vault.keystore.alias=airavata
services.api.vault.keystore.password=airavata
services.api.vault.keystore.url=keystores/airavata.sym.p12
services.api.vault.server.port=8960

# Monitor Services
# Cluster Status Monitor
services.monitor.cluster.enable=false
services.monitor.cluster.repeat-time=18000

# Email Monitor
services.monitor.email.address=monitoring.airavata@gmail.com
services.monitor.email.expiry-mins=60
services.monitor.email.folder-name=INBOX
services.monitor.email.host=imap.gmail.com
services.monitor.email.monitor-enabled=false
services.monitor.email.password=123456
services.monitor.email.period=100000
services.monitor.email.connection-retry-interval=30000
services.monitor.email.store-protocol=imaps

# Job Monitor
services.monitor.job.broker-consumer-group=MonitoringConsumer
services.monitor.job.broker-publisher-id=AiravataMonitorPublisher
services.monitor.job.broker-topic=monitoring-data
services.monitor.job.email-publisher-id=EmailBasedProducer
services.monitor.job.notification.emailids=
services.monitor.job.notification.enable=true
services.monitor.job.realtime-publisher-id=RealtimeProducer
services.monitor.job.status-publish-endpoint=http://localhost:8082/topics/helix-airavata-mq
services.monitor.job.validators=org.apache.airavata.orchestrator.core.validator.impl.BatchQueueValidator,org.apache.airavata.orchestrator.core.validator.impl.ExperimentStatusValidator

# Realtime Monitor
services.monitor.realtime.broker-consumer-group=monitor
services.monitor.realtime.broker-topic=helix-airavata-mq
services.monitor.realtime.enabled=false
services.monitor.realtime.monitor-enabled=false

# Parser Service
services.parser.broker-consumer-group=ParsingConsumer
services.parser.delete-container=true
services.parser.enabled=false
services.parser.enabled-gateways=
services.parser.loadbalance-clusters=false
services.parser.name=AiravataParserWM
services.parser.scanning-interval=3600
services.parser.scanning-parallel-jobs=1
services.parser.storage-resource-id=CHANGE_ME
services.parser.time-step-seconds=5
services.parser.topic=parsing-data

# Post Workflow Manager Service
services.postwm.enabled=false
services.postwm.loadbalance-clusters=false
services.postwm.monitoring.enabled=true
services.postwm.monitoring.port=9094
services.postwm.name=AiravataPostWM

# Pre Workflow Manager Service
services.prewm.enabled=false
services.prewm.loadbalance-clusters=false
services.prewm.monitoring.enabled=true
services.prewm.monitoring.port=9093
services.prewm.name=AiravataPreWM

# Scheduler Service
services.scheduler.classpath=org.apache.airavata.orchestrator.core.schedule.DefaultHostScheduler
services.scheduler.cluster-scanning-interval=1800000
services.scheduler.cluster-scanning-parallel-jobs=1
services.scheduler.compute-resource-rescheduler-policy-class=org.apache.airavata.metascheduler.process.scheduling.engine.rescheduler.ExponentialBackOffReScheduler
services.scheduler.compute-resource-selection-policy-class=org.apache.airavata.metascheduler.process.scheduling.engine.cr.selection.MultipleComputeResourcePolicy
services.scheduler.enabled=false
services.scheduler.gateway=
services.scheduler.group-resource-profile=
services.scheduler.job-scanning-interval=1800000
services.scheduler.maximum-rescheduler-threshold=5
services.scheduler.username=
