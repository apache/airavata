<template>
  <!-- stop propagation of native input events so that they don't conflict with
  native input events generated by web component wrappers -->
  <b-form-textarea
    :id="id"
    v-model="data"
    :rows="editorRows"
    :disabled="readOnly"
    :state="componentValidState"
    @input="valueChanged"
    @input.native.stop
  />
</template>

<script>
import { InputEditorMixin } from "django-airavata-workspace-plugin-api";

const DEFAULT_ROWS = 3;

export default {
  name: "textarea-input-editor",
  mixins: [InputEditorMixin],
  props: {
    value: {
      type: String,
    },
    rows: {
      type: Number,
    },
  },
  computed: {
    editorRows: function () {
      return this.rows || this.editorConfig.rows || DEFAULT_ROWS;
    },
  },
};
</script>
