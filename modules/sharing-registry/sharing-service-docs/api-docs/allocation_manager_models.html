<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="style.css" rel="stylesheet" type="text/css"/>
<title>Thrift module: allocation_manager_models</title></head><body>
<div class="container-fluid">
<h1>Thrift module: allocation_manager_models</h1>
<p>A user should have an account with airavata to request an allocation</p>
<li>username : Login Username</li>
<li>password :Login Password</li>

<br/><table class="table-bordered table-striped table-condensed"><thead><th>Module</th><th>Services</th><th>Data types</th><th>Constants</th></thead>
<tr>
<td>allocation_manager_models</td><td></td>
<td><a href="#Struct_AllocationManagerException">AllocationManagerException</a><br/>
<a href="#Struct_ExternalAllocation">ExternalAllocation</a><br/>
<a href="#Struct_ResourceDescription">ResourceDescription</a><br/>
<a href="#Struct_Sponsorship">Sponsorship</a><br/>
<a href="#Enum_SponsorshipClass">SponsorshipClass</a><br/>
<a href="#Struct_UserAllocationDetails">UserAllocationDetails</a><br/>
<a href="#Struct_UserDetails">UserDetails</a><br/>
</td>
<td></code></td>
</tr></table>
<hr/><h2 id="Enumerations">Enumerations</h2>
<div class="definition"><h3 id="Enum_SponsorshipClass">Enumeration: SponsorshipClass</h3>
<p>This is an internal enum type for managing sponsorship class</p>

<br/><br/><table class="table-bordered table-striped table-condensed">
<tr><td><code>UNIVERSITY</code></td><td><code>0</code></td><td>
</td></tr>
<tr><td><code>GOVERNMENT_AGENCY</code></td><td><code>1</code></td><td>
</td></tr>
<tr><td><code>MEDICAL_CENTER</code></td><td><code>2</code></td><td>
</td></tr>
<tr><td><code>PRIVATE_LAB</code></td><td><code>3</code></td><td>
</td></tr>
<tr><td><code>COMPANY</code></td><td><code>4</code></td><td>
</td></tr>
</table></div>
<hr/><h2 id="Structs">Data structures</h2>
<div class="definition"><h3 id="Struct_UserDetails">Struct: UserDetails</h3>
<table class="table-bordered table-striped table-condensed"><thead><th>Key</th><th>Field</th><th>Type</th><th>Description</th><th>Requiredness</th><th>Default value</th></thead>
<tr><td>1</td><td>username</td><td><code>string</code></td><td></td><td>optional</td><td></td></tr>
<tr><td>2</td><td>password</td><td><code>string</code></td><td></td><td>optional</td><td></td></tr>
</table><br/><p>A user should have an account with airavata to request an allocation</p>
<li>username : Login Username</li>
<li>password :Login Password</li>

<br/></div><div class="definition"><h3 id="Struct_Sponsorship">Struct: Sponsorship</h3>
<table class="table-bordered table-striped table-condensed"><thead><th>Key</th><th>Field</th><th>Type</th><th>Description</th><th>Requiredness</th><th>Default value</th></thead>
<tr><td>1</td><td>sponsorshipClass</td><td><code><a href="#Typedef_SponsorshipClass">SponsorshipClass</a></code></td><td></td><td>optional</td><td></td></tr>
<tr><td>4</td><td>sponsorName</td><td><code>string</code></td><td></td><td>optional</td><td></td></tr>
</table><br/><p>Field to share sponsorship details</p>
<li>sponsorshipClass : (Enum)Type of organization, for example: University, Government Agency, Medical Center, Private lab, Company etc</li>
<li>sponsorName : Name of supervisor, manager, group leader or self</li>

<br/></div><div class="definition"><h3 id="Struct_UserAllocationDetails">Struct: UserAllocationDetails</h3>
<table class="table-bordered table-striped table-condensed"><thead><th>Key</th><th>Field</th><th>Type</th><th>Description</th><th>Requiredness</th><th>Default value</th></thead>
<tr><td>1</td><td>projectId</td><td><code>string</code></td><td></td><td>optional</td><td></td></tr>
<tr><td>2</td><td>applicationsToBeUsed</td><td><code>string</code></td><td></td><td>optional</td><td></td></tr>
<tr><td>3</td><td>diskUsageRangePerJob</td><td><code>i64</code></td><td></td><td>optional</td><td></td></tr>
<tr><td>4</td><td>documents</td><td><code>binary</code></td><td></td><td>optional</td><td></td></tr>
<tr><td>5</td><td>externalAllocationAccessMechanisms</td><td><code>string</code></td><td></td><td>optional</td><td></td></tr>
<tr><td>6</td><td>externalAllocationAccountPassword</td><td><code>string</code></td><td></td><td>optional</td><td></td></tr>
<tr><td>7</td><td>externalAllocationAccountUsername</td><td><code>string</code></td><td></td><td>optional</td><td></td></tr>
<tr><td>8</td><td>externalAllocationOrganizationName</td><td><code>string</code></td><td></td><td>optional</td><td></td></tr>
<tr><td>9</td><td>externalAllocationProjectId</td><td><code>string</code></td><td></td><td>optional</td><td></td></tr>
<tr><td>10</td><td>externalAllocationResourceName</td><td><code>string</code></td><td></td><td>optional</td><td></td></tr>
<tr><td>11</td><td>fieldOfScience</td><td><code>string</code></td><td></td><td>optional</td><td></td></tr>
<tr><td>12</td><td>keywords</td><td><code>string</code></td><td></td><td>optional</td><td></td></tr>
<tr><td>13</td><td>maxMemoryPerCpu</td><td><code>i64</code></td><td></td><td>optional</td><td></td></tr>
<tr><td>14</td><td>numberOfCpuPerJob</td><td><code>i64</code></td><td></td><td>optional</td><td></td></tr>
<tr><td>15</td><td>principalInvistigatorEmail</td><td><code>string</code></td><td></td><td>optional</td><td></td></tr>
<tr><td>16</td><td>principalInvistigatorName</td><td><code>string</code></td><td></td><td>optional</td><td></td></tr>
<tr><td>17</td><td>projectDescription</td><td><code>string</code></td><td></td><td>optional</td><td></td></tr>
<tr><td>18</td><td>projectReviewedAndFundedBy</td><td><code>string</code></td><td></td><td>optional</td><td></td></tr>
<tr><td>19</td><td>serviceUnits</td><td><code>i64</code></td><td></td><td>optional</td><td></td></tr>
<tr><td>20</td><td>specificResourceSelection</td><td><code>string</code></td><td></td><td>optional</td><td></td></tr>
<tr><td>21</td><td>title</td><td><code>string</code></td><td></td><td>optional</td><td></td></tr>
<tr><td>22</td><td>typeOfAllocation</td><td><code>string</code></td><td></td><td>optional</td><td></td></tr>
<tr><td>23</td><td>typicalSuPerJob</td><td><code>i64</code></td><td></td><td>optional</td><td></td></tr>
</table><br/><p>Required allocation request details</p>
<li>projectId : 	Ask the user to assign project ID, but this project should unique, we will need an API endpoint to check whether this ID is not used by other projects</li>
<li>applicationsToBeUsed : Select the application that the user intends to use, according to application chosen here, resources that can be allocable will be fetch from resource discovery module. User will not be restricted to these application upon allocation grant, provided the resources allocated support the application.</li>
<li>diskUsageRangePerJob : An optional field to help reviewer and PI for allocation approval</li>
<li>documents : Resume, CV, PIâ€™s portfolio etc</li>
<li>externalAllocationAccessMechanisms :  Mechanism to use for job scheduling (Eg: ssh, 2FA etc)</li>
<li>externalAllocationAccountPassword :external Login Password</li>
<li>externalAllocationAccountUsername : external Login Username</li>
<li>externalAllocationOrganizationName : Name of organization where the user has allocation, can be a list of supported once, still to decide</li>
<li>externalAllocationProjectId : A chargeable project ID recognised by the the third party organization.</li>
<li><b>externalAllocationResourceName</b> : Allocated resource</li>
<li>fieldOfScience :An optional field to help reviewer and PI for allocation approval</li>* <li>allocationType : Community, Campus, Specific Resource (Paid), User with exclusive allocation : Only use airavata to manage jobs.</li>
<li>keywords : Keyword will be helpful in search</li>* <li>principalInvestigator : In case of Gridchem, only PI can request allocations, but here one suggestion is to allow user with organization affiliation like (staff, postdoctoral, etc) and not students - Name: can be self, Email: To notify the PI about allocation request</li>
<li>maxMemoryPerCpu :An optional field to help reviewer and PI for allocation approval</li>
<li>numberOfCpuPerJob : An optional field to help reviewer and PI for allocation approval</li>
<li>principalInvistigatorEmail :Principal Investigator email</li>
<li>principalInvistigatorName : Principal Investigator name</li>
<li>projectDescription :(Eg: Hypothesis, Model Systems, Methods, and Analysis)</li>
<li>projectReviewedAndFundedBy : (Eg., NSF, NIH, DOD, DOE, None etc...). An optional field to help reviewer and PI for allocation approval</li>
<li>serviceUnits : 1 SU is approximately 1 workstation CPU hour, if the user fails to give a value, default value will be chosen.</li>
<li>specificResourceSelection : This list will be fetched from resource discovery module, in case of community allocation, the request is subject to reviewers, PI discretion and availability</li>
<li>title : Assign a title to allocation request</li>
<li>typeOfAllocation : If the User has an exclusive allocation with third party organization and wants to use airavata middleware to manage jobs.</li>
<li>typicalSuPerJob :  An optional field to help reviewer and PI for allocation approval</li>

<br/></div><div class="definition"><h3 id="Struct_ExternalAllocation">Struct: ExternalAllocation</h3>
<table class="table-bordered table-striped table-condensed"><thead><th>Key</th><th>Field</th><th>Type</th><th>Description</th><th>Requiredness</th><th>Default value</th></thead>
<tr><td>1</td><td>organization</td><td><code>string</code></td><td></td><td>optional</td><td></td></tr>
<tr><td>2</td><td>resourceName</td><td><code>string</code></td><td></td><td>optional</td><td></td></tr>
<tr><td>3</td><td>projectId</td><td><code>string</code></td><td></td><td>optional</td><td></td></tr>
<tr><td>4</td><td>accountDetails</td><td><code><a href="#Struct_UserDetails">UserDetails</a></code></td><td></td><td>optional</td><td></td></tr>
<tr><td>5</td><td>accessMech</td><td><code>list&lt;<code>string</code>&gt;</code></td><td></td><td>optional</td><td></td></tr>
</table><br/><p>If the User has an exclusive allocation with third party organization and wants to use airavata middleware to manage jobs.</p>
<li>organization : Name of organization where the user has allocation, can be a list of supported once, still to decide</li>
<li><b>resourceName</b> : Allocated resource</li>
<li>projectId : A chargeable project ID recognised by the the third party organization.</li>
<li>accountDetails : details needed for verification (Username, Password)</li>
<li>accessMech :  Mechanism to use for job scheduling (Eg: ssh, 2FA etc)</li>

<br/></div><div class="definition"><h3 id="Struct_ResourceDescription">Struct: ResourceDescription</h3>
<table class="table-bordered table-striped table-condensed"><thead><th>Key</th><th>Field</th><th>Type</th><th>Description</th><th>Requiredness</th><th>Default value</th></thead>
<tr><td>1</td><td>resourceId</td><td><code>string</code></td><td></td><td>optional</td><td></td></tr>
<tr><td>2</td><td>hostName</td><td><code>string</code></td><td></td><td>optional</td><td></td></tr>
<tr><td>3</td><td>resourceDesc</td><td><code>string</code></td><td></td><td>optional</td><td></td></tr>
</table><br/><p>Resource discovery module will help allocation manager service to know the list of resource which are open for allocation. This data should to initialized and maintained by Admin.</p>
<li>resourceId : Id of the resource</li>
<li><b>hostName</b> : Hostname</li>
<li>resourceDesc :Brief description of the resource. </li>

<br/></div><div class="definition"><h3 id="Struct_AllocationManagerException">Exception: AllocationManagerException</h3>
<table class="table-bordered table-striped table-condensed"><thead><th>Key</th><th>Field</th><th>Type</th><th>Description</th><th>Requiredness</th><th>Default value</th></thead>
<tr><td>1</td><td>message</td><td><code>string</code></td><td></td><td>required</td><td></td></tr>
</table><br/><p>Exception model used in the allocation manager service</p>

<br/></div></div></body></html>
